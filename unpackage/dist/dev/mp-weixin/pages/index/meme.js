(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/meme"],{74:
/*!*******************************************************************!*\
  !*** D:/uniapptest/myapp/main.js?{"page":"pages%2Findex%2Fmeme"} ***!
  \*******************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){n(/*! uni-pages */4),n(/*! @dcloudio/uni-stat */5);o(n(/*! vue */2));var t=o(n(/*! ./pages/index/meme.vue */75));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},75:
/*!************************************************!*\
  !*** D:/uniapptest/myapp/pages/index/meme.vue ***!
  \************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./meme.vue?vue&type=template&id=13ffb75a& */76),i=n(/*! ./meme.vue?vue&type=script&lang=js& */78);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n(/*! ./meme.vue?vue&type=style&index=0&lang=css& */80);var s,u=n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */14),c=Object(u["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],s);c.options.__file="D:/uniapptest/myapp/pages/index/meme.vue",t["default"]=c.exports},76:
/*!*******************************************************************************!*\
  !*** D:/uniapptest/myapp/pages/index/meme.vue?vue&type=template&id=13ffb75a& ***!
  \*******************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meme.vue?vue&type=template&id=13ffb75a& */77);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},77:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/uniapptest/myapp/pages/index/meme.vue?vue&type=template&id=13ffb75a& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return i})),n.d(t,"staticRenderFns",(function(){return s})),n.d(t,"recyclableRender",(function(){return r})),n.d(t,"components",(function(){return o}));var o={"uni-icons":function(){return Promise.all(/*! import() | components/uni-icons/uni-icons */[n.e("common/vendor"),n.e("components/uni-icons/uni-icons")]).then(n.bind(null,/*! @/components/uni-icons/uni-icons.vue */91))}},i=function(){var e=this,t=e.$createElement;e._self._c},r=!1,s=[];i._withStripped=!0},78:
/*!*************************************************************************!*\
  !*** D:/uniapptest/myapp/pages/index/meme.vue?vue&type=script&lang=js& ***!
  \*************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meme.vue?vue&type=script&lang=js& */79),i=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=i.a},79:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/uniapptest/myapp/pages/index/meme.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(/*! ../../common/http.js */23));function i(e){return e&&e.__esModule?e:{default:e}}var r=1,s=1,u=null,c=null,a=!1,l=!1,f=!1,d={data:function(){return{iconSize:40,scrollHeight:0,searchKeyword:"",imageList:[]}},beforeDestroy:function(){u&&clearTimeout(u),c&&clearTimeout(c)},computed:{uid:function(){return this.$store.getters.userInfo.uid?this.$store.getters.userInfo.uid:0},level:function(){return console.log("userInfo:",this.$store.getters.userInfo),this.$store.getters.userInfo.level?this.$store.getters.userInfo.level:0}},mounted:function(){},onLoad:function(){var t=e.getSystemInfoSync();this.scrollHeight=t.windowHeight,this.getMemeList(1,!1)},onPullDownRefresh:function(){console.log("页面下拉刷新");var t=this;setTimeout((function(){t.getMemeList(r),e.stopPullDownRefresh()}),1e3)},methods:{upgrade_vip:function(){this.level<2?e.navigateTo({url:"/pages/user/index"}):e.navigateTo({url:"/pages/user/upgrade_user_vip"})},previewImage:function(t){for(var n=this.imageList[t].src,o=this.imageList,i=o.length,r=[],s=0;s<i;s++)r.push(o[s].src);e.previewImage({current:n,urls:r,success:function(){console.log("success!")}}),console.log("src",n)},searchMeme:function(){this.searchKeyword?(f=!0,r=1,this.getMemeList(r,!1,!0)):e.showToast({title:"请输入关键词，且至少2个字符长度!",icon:"none",duration:2e3})},getMemeList:function(t,n,i){var r=getApp().globalData,u=r.serverUri,c=r.auth,a=this,l="";l=i?u+"?mod=hualang&ac=search":u+"?mod=hualang&ac=list";var f={auth:c,uid:this.uid,nowpage:t,filterData:!0};i&&this.searchKeyword&&(f.keyword=this.searchKeyword),o.default.request(l,f).then((function(t){s=t.totalpage;var o=t.data;if(t.data){for(var r=o.length,u=0;u<r;u++)o[u].src="https://kuxou.com/"+o[u].src,o[u].class=(u-1)%3==0?"meme-image-view meme-second-image-view":"meme-image-view";if(n)for(var c=0;c<r;c++)a.imageList.push(o[c]);else a.imageList=o}else i&&e.showToast({title:"未查询到结果",icon:"none",duration:2e3})}))}},onReachBottom:function(){console.log("reach bottom!");var t=this;if(!f||this.searchKeyword&&!(this.searchKeyword.length<2))if(r>=s)if(clearTimeout(u),console.log("isFixedHeight",a),console.log("isFixedHeight2",l),a||f){if(!l&&f){var n=e.createSelectorQuery().select("#meme-list-view");n.boundingClientRect((function(e){console.log("data:",e),t.scrollHeight=e.height+20,l=!0})).exec()}}else{var o=e.createSelectorQuery().select("#meme-list-view");o.boundingClientRect((function(e){console.log("data:",e),t.scrollHeight=e.height+20,a=!0})).exec()}else u=setTimeout((function(){r++,t.getMemeList(r,!0,f)}),500)}};t.default=d}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},80:
/*!*********************************************************************************!*\
  !*** D:/uniapptest/myapp/pages/index/meme.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meme.vue?vue&type=style&index=0&lang=css& */81),i=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=i.a},81:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/uniapptest/myapp/pages/index/meme.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}},[[74,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/meme.js.map