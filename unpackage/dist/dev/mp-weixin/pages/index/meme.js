(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/meme"],{68:
/*!*******************************************************************!*\
  !*** D:/uniapptest/myapp/main.js?{"page":"pages%2Findex%2Fmeme"} ***!
  \*******************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){n(/*! uni-pages */4),n(/*! @dcloudio/uni-stat */5);r(n(/*! vue */2));var t=r(n(/*! ./pages/index/meme.vue */69));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},69:
/*!************************************************!*\
  !*** D:/uniapptest/myapp/pages/index/meme.vue ***!
  \************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./meme.vue?vue&type=template&id=13ffb75a& */70),i=n(/*! ./meme.vue?vue&type=script&lang=js& */72);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n(/*! ./meme.vue?vue&type=style&index=0&lang=css& */74);var s,u=n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */14),c=Object(u["default"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null,!1,r["components"],s);c.options.__file="D:/uniapptest/myapp/pages/index/meme.vue",t["default"]=c.exports},70:
/*!*******************************************************************************!*\
  !*** D:/uniapptest/myapp/pages/index/meme.vue?vue&type=template&id=13ffb75a& ***!
  \*******************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var r=n(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meme.vue?vue&type=template&id=13ffb75a& */71);n.d(t,"render",(function(){return r["render"]})),n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return r["recyclableRender"]})),n.d(t,"components",(function(){return r["components"]}))},71:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/uniapptest/myapp/pages/index/meme.vue?vue&type=template&id=13ffb75a& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return i})),n.d(t,"staticRenderFns",(function(){return s})),n.d(t,"recyclableRender",(function(){return o})),n.d(t,"components",(function(){return r}));var r={"uni-icons":function(){return Promise.all(/*! import() | components/uni-icons/uni-icons */[n.e("common/vendor"),n.e("components/uni-icons/uni-icons")]).then(n.bind(null,/*! @/components/uni-icons/uni-icons.vue */85))}},i=function(){var e=this,t=e.$createElement;e._self._c},o=!1,s=[];i._withStripped=!0},72:
/*!*************************************************************************!*\
  !*** D:/uniapptest/myapp/pages/index/meme.vue?vue&type=script&lang=js& ***!
  \*************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var r=n(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meme.vue?vue&type=script&lang=js& */73),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},73:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/uniapptest/myapp/pages/index/meme.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(/*! ../../common/http.js */23));function i(e){return e&&e.__esModule?e:{default:e}}var o=1,s=1,u=null,c=null,a=!1,l=!1,f=!1,d={data:function(){return{iconSize:40,scrollHeight:0,searchKeyword:"",imageList:[]}},beforeDestroy:function(){u&&clearTimeout(u),c&&clearTimeout(c)},computed:{uid:function(){return this.$store.getters.userInfo.uid?this.$store.getters.userInfo.uid:0},level:function(){return console.log("userInfo:",this.$store.getters.userInfo),this.$store.getters.userInfo.level?this.$store.getters.userInfo.level:0}},mounted:function(){},onShareAppMessage:function(){var e=getCurrentPages(),t=e[e.length-1],n=t.route;return{title:"表情包",path:n,success:function(){},fail:function(){}}},onLoad:function(){e.showShareMenu({withShareTicket:!0});var t=e.getSystemInfoSync();this.scrollHeight=t.windowHeight,this.getMemeList(1,!1)},onPullDownRefresh:function(){var t=this;setTimeout((function(){t.getMemeList(o),e.stopPullDownRefresh()}),1e3)},methods:{upgrade_vip:function(){this.level<2?e.switchTab({url:"/pages/user/index"}):e.navigateTo({url:"/pages/user/upgrade_user_vip"})},previewImage:function(t){for(var n=this.imageList[t].src,r=this.imageList,i=r.length,o=[],s=0;s<i;s++)o.push(r[s].src);e.previewImage({current:n,urls:o,success:function(){console.log("success!")}})},searchMeme:function(){this.searchKeyword?(f=!0,o=1,this.getMemeList(o,!1,!0)):e.showToast({title:"请输入关键词，且至少2个字符长度!",icon:"none",duration:2e3})},getMemeList:function(t,n,i){var o=getApp().globalData,u=o.serverUri,c=o.auth,a=this,l="";l=i?u+"?mod=hualang&ac=search":u+"?mod=hualang&ac=list";var f={auth:c,uid:this.uid,nowpage:t,filterData:!0};i&&this.searchKeyword&&(f.keyword=this.searchKeyword),r.default.request(l,f).then((function(t){s=t.totalpage;var r=t.data;if(!t.data)return i&&e.showToast({title:"未查询到结果",icon:"none",duration:2e3}),void(a.imageList=[]);for(var o=r.length,u=0;u<o;u++)r[u].src="https://kuxou.com/"+r[u].src,r[u].class=(u-1)%3==0?"meme-image-view meme-second-image-view":"meme-image-view";if(n)for(var c=0;c<o;c++)a.imageList.push(r[c]);else a.imageList=r}))}},onReachBottom:function(){console.log("reach bottom!");var t=this;if(!f||this.searchKeyword&&!(this.searchKeyword.length<2))if(o>=s)if(clearTimeout(u),a||f){if(!l&&f){var n=e.createSelectorQuery().select("#meme-list-view");n.boundingClientRect((function(e){t.scrollHeight=e.height+20,l=!0})).exec()}}else{var r=e.createSelectorQuery().select("#meme-list-view");r.boundingClientRect((function(e){console.log("data:",e),t.scrollHeight=e.height+20,a=!0})).exec()}else u=setTimeout((function(){o++,t.getMemeList(o,!0,f)}),500)}};t.default=d}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},74:
/*!*********************************************************************************!*\
  !*** D:/uniapptest/myapp/pages/index/meme.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var r=n(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meme.vue?vue&type=style&index=0&lang=css& */75),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},75:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/uniapptest/myapp/pages/index/meme.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}},[[68,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/meme.js.map