(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-bind_phone"],{"1de5":function(e,t,i){"use strict";e.exports=function(e,t){return t||(t={}),e=e&&e.__esModule?e.default:e,"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},2828:function(e,t,i){"use strict";i.r(t);var n=i("483e"),o=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"28fd":function(e,t,i){"use strict";i.r(t);var n=i("cd18"),o=i("2828");for(var a in o)"default"!==a&&function(e){i.d(t,e,(function(){return o[e]}))}(a);i("b687");var r,s=i("f0c5"),l=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"a12ec846",null,!1,n["a"],r);t["default"]=l.exports},"483e":function(e,t,i){"use strict";(function(e){var n=i("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("7e3d")),a=n(i("383a")),r="",s={data:function(){return{phone:"",lineHeight:"",headerViewHeight:"",telErrorMsg:"",codeErrorMsg:"",codeStr:"",isBind:1,saveText:"",disabled:!1,sendMsg:"获取验证码"}},onLoad:function(){var t=a.default.cache("appLoginType",null),i=a.default.cache("app_user_info_"+t,null),n=i?JSON.parse(i):{};r=n.uid,e("log","userInfo",n," at pages/user/bind_phone.vue:69");var o="";n.phone?(this.phone=n.phone,this.isBind=0,this.saveText="保存",o="修改手机号"):(this.isBind=1,this.saveText="绑定",o="绑定手机号"),uni.setNavigationBarTitle({title:o})},methods:{goHome:function(){e("log","goHome"," at pages/user/bind_phone.vue:88"),uni.switchTab({url:"/pages/index/index",fail:function(t){e("log","fail res:",t," at pages/user/bind_phone.vue:92")}})},savePhone:function(){var t=this.phone;e("log","phoneStr",t," at pages/user/bind_phone.vue:98");var i=this.validatePhone(),n=this.requireCodeStr();i&&n&&this.changephone()},isPoneAvailable:function(t){var i=/^[1][3,4,5,7,8][0-9]{9}$/;return e("log","isPoneAvailable",t," at pages/user/bind_phone.vue:107"),!!i.test(t)},requireCodeStr:function(){var e=this.codeStr;return e?(this.codeErrorMsg="",!0):(this.codeErrorMsg="验证码必须!",!1)},sendSms:function(){var t=getApp().globalData,i=t.serverUri,n=t.auth,a=i+"?mod=user&ac=sendsms";o.default.request(a,{auth:n,phone:this.phone,filterData:!0}).then((function(t){e("log","sendsms resp",t," at pages/user/bind_phone.vue:135")}))},validatePhone:function(){var e=this.phone;return this.isPoneAvailable(e)?(this.telErrorMsg="",!0):(this.telErrorMsg="请输入正确的手机号码!",!1)},sendCode:function(){if(!this.disabled){this.disabled=!0;var e=60;this.sendMsg=e+"s";var t=this;this.sendSms();var i=setInterval((function(){if(e--,e<=0)return t.sendMsg="重新发送验证码",clearInterval(i),void(t.disabled=!1);t.sendMsg=e+"s"}),1e3)}},back:function(){e("log","back"," at pages/user/bind_phone.vue:173")},setUserInfo:function(e){this.$store.commit("setUserInfo",e)},changephone:function(){var t=this;uni.showLoading({title:"正在修改"});var i=getApp().globalData,n=i.serverUri,s=i.auth,l=n+"?mod=user&ac=phone_xg",c={auth:s,uid:r,code:this.codeStr,phone:this.phone,filterData:!0};e("log","params",c," at pages/user/bind_phone.vue:199"),o.default.request(l,c).then((function(i){uni.hideLoading(),e("log","resp",i," at pages/user/bind_phone.vue:202");var n=0;if(1==i.status){var o=a.default.cache("appLoginType",null),r=a.default.cache("app_user_info_"+o,null);if(r){var s=JSON.parse(r);n=s.phone?1:0,s.phone=t.phone,t.setUserInfo(s);var l=JSON.stringify(s);e("log","uStr",l," at pages/user/bind_phone.vue:215"),a.default.cache("app_user_info_"+o,l,1296e3)}else n=0;n?uni.navigateBack({delta:1}):uni.showToast({title:"绑定成功!",complete:function(){uni.switchTab({url:"/pages/index/index"})}})}else{var c=i.message;uni.showModal({title:"提示",content:c,confirmText:"确定",showCancel:!1,success:function(){}})}}))}}};t.default=s}).call(this,i("0de9")["log"])},"97d0":function(e,t,i){var n=i("e0c0");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("6b5fedb0",n,!0,{sourceMap:!1,shadowMode:!1})},b687:function(e,t,i){"use strict";var n=i("97d0"),o=i.n(n);o.a},cd18:function(e,t,i){"use strict";var n,o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{attrs:{id:"root-view"}},[i("v-uni-view",{attrs:{id:"content-box"}},[i("v-uni-view",{attrs:{id:"phone-box"}},[i("v-uni-input",{ref:"phoneRef",attrs:{id:"phone",focus:!0,placeholder:"请输入手机号码","placeholder-class":"place-holder-class"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.validatePhone()}},model:{value:e.phone,callback:function(t){e.phone="string"===typeof t?t.trim():t},expression:"phone"}})],1),i("v-uni-view",{attrs:{id:"error-tel-view"}},[i("v-uni-text",[e._v(e._s(e.telErrorMsg))])],1),i("v-uni-view",{attrs:{id:"code-box"}},[i("v-uni-input",{attrs:{id:"codeStr",placeholder:"请输入验证码","placeholder-class":"place-holder-class"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.requireCodeStr.apply(void 0,arguments)}},model:{value:e.codeStr,callback:function(t){e.codeStr="string"===typeof t?t.trim():t},expression:"codeStr"}}),i("v-uni-button",{staticClass:"send-code-btn",attrs:{disabled:e.disabled},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendCode()}}},[e._v(e._s(e.sendMsg))])],1),i("v-uni-view",{attrs:{id:"error-tel-view"}},[i("v-uni-text",[e._v(e._s(e.codeErrorMsg))])],1),i("v-uni-view",{attrs:{id:"submit-view"}},[e.isBind?i("v-uni-button",{staticStyle:{border:"0px solid #000000"},attrs:{type:"default",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goHome()}}},[e._v("暂不绑定")]):e._e(),i("v-uni-button",{staticStyle:{border:"0px solid #000000"},attrs:{type:"primary",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.savePhone()}}},[e._v(e._s(e.saveText))])],1)],1)],1)},a=[];i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}))},e0c0:function(e,t,i){var n=i("24fb"),o=i("1de5"),a=i("e747");t=n(!1);var r=o(a);t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-a12ec846]{display:-webkit-box;display:-webkit-flex;display:flex}#root-view[data-v-a12ec846]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}#header[data-v-a12ec846]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?750?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:16px;font-family:Microsoft YaHei;font-weight:400;height:%?100?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:1px solid #d4d4d4}#header-view-box[data-v-a12ec846]{width:%?654?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:100%;margin-left:%?32?%;margin-right:%?32?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}#left[data-v-a12ec846]{background-color:#e1e1e1;color:#b4b4b4}#right[data-v-a12ec846]{display:-webkit-box;display:-webkit-flex;display:flex}#center[data-v-a12ec846]{display:-webkit-box;display:-webkit-flex;display:flex;position:absolute;left:%?311?%}#content-box[data-v-a12ec846]{margin-left:%?32?%;margin-right:%?32?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}#phone-box[data-v-a12ec846]{padding-top:20px;border-bottom:1px solid #b2e3cf;padding-bottom:20px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center\r\n  /*height: 40px;*/}#error-tel-view[data-v-a12ec846]{height:20px;color:red;font-size:%?32?%;font-family:Microsoft YaHei;font-weight:400;opacity:.5}#code-box[data-v-a12ec846]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#a5a5a5;border-bottom:1px solid #b2e3cf;padding-top:20px;padding-bottom:20px}#code-box .send-code-btn[data-v-a12ec846]{margin-left:20px;display:-webkit-box;display:-webkit-flex;display:flex;width:%?273?%;height:%?50?%;font-size:%?29?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-family:Microsoft YaHei;font-weight:400;color:#fefefe;border:0 solid #000;background:url('+r+");background-size:%?273?% 100%}#code-box .send-code-btn[data-v-a12ec846]::after{border:0}#submit-view[data-v-a12ec846]{margin-top:20px}#phone[data-v-a12ec846]{height:100%}.rightBtn[data-v-a12ec846]{background-color:#07c160;color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;height:%?60?%;line-height:1;-webkit-box-align:center;-webkit-align-items:center;align-items:center}",""]),e.exports=t},e747:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAREAAAAyCAYAAAB72++iAAAFhElEQVR4Xu3dTYwTZRgH8P8z0/0IXhZiaLc71SUxJogbXM5CwoGoCSeihXZBJEZOcCbRxI8DB716Qw2C23aphhOJJhw0rmcBFUm4UN1+TPfA7kHJ7rYzj5ku37vdTjuTCJ1/jzvv87zz/GbzZGb6dkYQwseatidgYi+AnQC2CzAOYDOA4RDSMwUFKBBcYAnAggIlADcAXIOJH8vpxO9BU0uvCZKFSspE7B1AjwHY1msexlGAAv+rwC1Azjpofl3NjM31siddN5H4eXvbYEw/VpGsALFeJmUMBSjwZAko0AS00DDlo3o6caubvfPfRIrXBy3n2fcFeoqXKd0QcywFniqBJVX9rBy7fRrpHSt+9txXE7GK8y/AcYoCmfSTlGMoQIGnW0AVV7XRPFg5at3sVEnHJpLM1/eZ0CIEI52ScTsFKNBHAiqLDpCuZuOXN6pqwyYyVqi9aQA5QAb7iIalUIACvgV0xYU5Vcls/a5dSNsmMjZt7zdMuQjogO/5OJACFOhDAWm4jh6oHE5cWq+4dZtI8pvqLjNmzALY1IciLIkCFOhe4I7TdHdXjyR/fTx0TRMZP7sw4gwvX8HqgjF+KEABCtwTKJlLQ5OlY5sXHyZZ00SsvD0tgim6UYACFHhcQBW5cjZxuG0TSV2ovwZXfyAdBShAgXYCqu4b5Wzyfp94cCZSVDPl1L119NvJRwEKUGADgRtzZnwCaXG8MfebyFiu9rZhyDnSUYACFOgk4Lp6tDI1ev6RJpIq2N5ZyMudgrmdAhSgAIA/5jKJiftNJFWY3w24P5OGAhSggH8Bd89cJjnbupyx8vYZEbznP5gjKUCBqAuo4otyNnFcoCpWoW6LYGvUUVg/BSjQlUB97lB8VJKFyqQJc80qtK5ScTAFKBBJAQfOLrFytRNiyOeRFGDRFKBAIAEVPSlWwf5SgHcDZWIwBSgQSQEFvpJUoTYLyKuRFGDRFKBAQAH9Ray8XRLB8wEzMZwCFIiggCr+8prIPyJ4JoL1s2QKUCCggCr+9e6JNAUwA+ZiOAUoEEEBBRw2kQgeeJZMgbAEVpsIL2fC8mQeCkROYPVyhjdWI3fgWTAFwhJo3VjlV7xhcTIPBaIo4H3Fy8VmUTzyrJkCoQi0FptZM7UTolz2Hoook1AgYgIqxklJFuYnTbj8AV7EDj7LpUAYAq0f4PFRAGFQMgcFoiegivlyJp7gQ4mid+xZMQVCEXjwUCIAfDxiKKZMQoGICRh75jJbVx+P6H34oOaIHX+WS4FgAo8+qNnLxVdGBBNlNAWiJLDuKyPAl1dF6X+AtVIgiMD6L6/yMlr56usixvdBsjOWAhTob4H2r9G8W7dVsHMCZPubgdVRgAK9CCiQL2cSUw/HPngX792/jp9dGHGGl68AGO9lEsZQgAJ9K1Ayl4YmS8c2L27YRLyNyZnqLhPGLBSb+paDhVGAAv4FBHechru7eiS5ZnX7mjORe1nHZuz9hspFQAf8z8SRFKBA/wlIwxU9UDmUuLRebW2biDd4LFd7yzAwDchg/8GwIgpQoLOArrguDlemRr9tN3bDJtK6tMnX95kGilAd6TwhR1CAAn0jILLouEhXs/HLG9XUsYm0zkjOlV+UoYELovpK3wCxEApQoK2AilxVNA5WDlk3OzH5aiKtJMXrg1ZzywciOAXIUKfE3E4BCjyNArqsik/Lsdunkd6x4qcC/03kbrZ40d424OgngGQEiPmZhGMoQIEnW0CBJhQzjRg+rKcTt7rZ266byL3ko8Xbz8WaK8ch8BaecE1JN+ocS4EnR6AEQa5pDJ6ppbf83ctu9dxEHp7MKtoTcIy9gLsTwEuy2lS8G7HDvewUYyhAgdAFlgAsKlAC8CdgXIMu/1TOpn4LOtN/5nuOJ0YUwYAAAAAASUVORK5CYII="}}]);