(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-course-video_detail"],{"0693":function(e,t,n){"use strict";var i,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"root",style:{width:e.width,height:e.height}},[n("v-uni-video",{staticClass:"video",style:{height:e.height,width:"750rpx"},attrs:{id:e.videoId,autoplay:!0,"show-center-play-btn":!0,controls:!0,src:e.url},on:{ended:function(t){arguments[0]=t=e.$handleEvent(t),e.end.apply(void 0,arguments)},exitFullScreen:function(t){arguments[0]=t=e.$handleEvent(t),e.exitFullScreen.apply(void 0,arguments)},pause:function(t){arguments[0]=t=e.$handleEvent(t),e.pause.apply(void 0,arguments)},timeupdate:function(t){arguments[0]=t=e.$handleEvent(t),e.timeupdate.apply(void 0,arguments)},fullscreenchange:function(t){arguments[0]=t=e.$handleEvent(t),e.fullscreenchange.apply(void 0,arguments)}}})],1)},r=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}))},1799:function(e,t,n){"use strict";(function(e){var i=n("ee27");n("e25e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("f3f3")),r=n("2f62"),a={computed:(0,o.default)({},(0,r.mapGetters)(["videoInfo","curPlayId"]),{posterUrl:function(){return this.poster?this.poster:this.url+"?x-oss-process=video/snapshot,t_"+parseInt(1e3*this.currentTime)+",f_jpg,w_800,m_fast"}}),created:function(){this.videoId=Date.now()+Math.ceil(1e7*Math.random())+""},mounted:function(){e("log","mounted..."," at common/video_course.vue:29"),this.VideoContext=uni.createVideoContext(this.videoId),this.set_curPlayId(this.videoInfo.id),this.VideoContext.play(),e("log","this.videoInfo"+JSON.stringify(this.videoInfo)," at common/video_course.vue:33");var t=this.videoInfo.current_time,n=this.videoInfo.fromLog;e("log","x"+n+",t+"+t," at common/video_course.vue:36"),t&&1==n||this.curPlayId==this.videoInfo.id?this.VideoContext.seek(t):this.VideoContext.seek(0)},methods:(0,o.default)({},(0,r.mapMutations)(["setVideoInfo","setVideoLogList","set_curPlayId","setVideoPaused"]),{fullscreenchange:function(t){e("log",t.detail," at common/video_course.vue:47")},timeupdate:function(t){e("log",t.detail," at common/video_course.vue:51"),this.duration=t.detail.duration,this.currentTime=t.detail.currentTime},end:function(e){this.setVideoPaused(!0)},pause:function(t){e("log","pause!..."," at common/video_course.vue:59"),e("log","e",t," at common/video_course.vue:60");var n=this.currentTime;this.setVideoInfo({current_time:n,duration:this.duration}),this.setVideoPaused(!0),e("log","pause video"+JSON.stringify(this.videoInfo)," at common/video_course.vue:65"),this.setVideoLogList(this.videoInfo),this.$emit("updateVideoProgress")},exitFullScreen:function(){}}),watch:{state:function(t,n){e("log",t,"state"," at common/video_course.vue:75"),t?this.$nextTick((function(){})):this.VideoContext.pause()}},data:function(){return{VideoContext:{},state:!0,currentTime:0,duration:0,videoId:""}},props:{poster:{type:[String,Boolean],default:function(){return""}},title:{type:String,default:"呵呵"},url:{type:String,default:function(){return""}},direction:{type:String,default:function(){return"vertical"}},width:{type:String,default:function(){return"750rpx"}},height:{type:String,default:function(){return"450rpx"}}}};t.default=a}).call(this,n("0de9")["log"])},"2e44":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.root[data-v-195e59d6]{position:relative;width:%?750?%;height:300px;overflow:hidden}.title[data-v-195e59d6]{color:#fff}.posterImg[data-v-195e59d6], .video[data-v-195e59d6], .box[data-v-195e59d6]{display:-webkit-box;display:-webkit-flex;display:flex;width:%?750?%;height:300px;position:absolute}.box[data-v-195e59d6]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.playIcon[data-v-195e59d6]{width:%?100?%}',""]),e.exports=t},"3e73":function(e,t,n){"use strict";n.r(t);var i=n("0693"),o=n("61a8");for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("4013");var a,u=n("f0c5"),d=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,"195e59d6",null,!1,i["a"],a);t["default"]=d.exports},"3f6c":function(e,t,n){"use strict";n.r(t);var i=n("a771"),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=o.a},4013:function(e,t,n){"use strict";var i=n("704d"),o=n.n(i);o.a},"61a8":function(e,t,n){"use strict";n.r(t);var i=n("1799"),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=o.a},"704d":function(e,t,n){var i=n("2e44");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=n("4f06").default;o("238f1cad",i,!0,{sourceMap:!1,shadowMode:!1})},"96ec":function(e,t,n){"use strict";n.r(t);var i=n("eaac"),o=n("3f6c");for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);var a,u=n("f0c5"),d=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,"f5350ed6",null,!1,i["a"],a);t["default"]=d.exports},a771:function(e,t,n){"use strict";(function(e){var i=n("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var o=i(n("c964")),r=i(n("f3f3")),a=i(n("3e73")),u=n("2f62"),d=i(n("7e3d")),s=i(n("383a")),c={data:function(){return{isShowVideo:!1}},computed:(0,r.default)({},(0,u.mapGetters)(["videoInfo","videoPaused"]),{uid:function(){if(this.$store.getters.userInfo.uid)return this.$store.getters.userInfo.uid;var e=s.default.cache("app_userid",null);return e||0}}),onHide:function(){e("log","onHide..."," at pages/course/video_detail.vue:32")},onLoad:function(){var t=uni.getSystemInfoSync();this.w=t.windowWidth+"px",this.h=t.windowHeight+"px",e("log","videoInfo"+JSON.stringify(this.videoInfo)," at pages/course/video_detail.vue:38"),this.getVideoSrc(),this.$audio.pause(),uni.setNavigationBarTitle({title:this.videoInfo.title})},onBackPress:function(t){return e("log","监听返回按钮事件",t," at pages/course/video_detail.vue:47"),this.videoPaused||this.updatePlayProgress(),uni.switchTab({url:"/pages/course/index"}),!0},methods:(0,r.default)({},(0,u.mapMutations)(["setVideoInfo"]),{updatePlayProgress:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function n(){var i,o,r,a,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=getApp().globalData,i.serverUri,o=i.auth,r=i.serverUri+"?mod=product&ac=jd_log",a={auth:o,nid:t.videoInfo.id,uid:t.uid,cid:3,jdsc:t.videoInfo.current_time,zsc:t.videoInfo.duration,version:"v2",filterData:!0},n.next=7,d.default.request(r,a);case 7:u=n.sent,e("log","resp:"+JSON.stringify(u)," at pages/course/video_detail.vue:75"),u.status;case 10:case"end":return n.stop()}}),n)})))()},getVideoSrc:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var n,i,o,r,a,u,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=getApp().globalData,i=n.serverUri,o=n.auth,r={auth:o,nid:e.videoInfo.id,uid:e.uid,version:"v2",filterData:!0},a=i+"?mod=product&ac=read",t.next=7,d.default.request(a,r);case 7:u=t.sent,1==u.status&&(s=u.data.downurl,e.setVideoInfo({videoUrl:s}),e.isShowVideo=!0);case 9:case"end":return t.stop()}}),t)})))()}}),components:{videoCourse:a.default}};t.default=c}).call(this,n("0de9")["log"])},eaac:function(e,t,n){"use strict";var i,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[e.isShowVideo?n("video-course",{attrs:{url:e.videoInfo.videoUrl,height:e.h,width:e.w},on:{updateVideoProgress:function(t){arguments[0]=t=e.$handleEvent(t),e.updatePlayProgress.apply(void 0,arguments)}}}):e._e()],1)},r=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}))}}]);